<!DOCTYPE html>
<html lang="zh-Hans" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>自定义视频设备模拟 | 👽袁小猴没有秘密花园</title>
    <meta name="description" content=" ">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/yzp-blog/assets/style.CMENvdba.css" as="style">
    
    <script type="module" src="/yzp-blog/assets/app.B2gmUbKD.js"></script>
    <link rel="preload" href="/yzp-blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/yzp-blog/assets/chunks/framework.CUMjAKNJ.js">
    <link rel="modulepreload" href="/yzp-blog/assets/chunks/theme.C6dyirnZ.js">
    <link rel="modulepreload" href="/yzp-blog/assets/工作点滴积累_自定义视频设备模拟.md.Bm9hsI--.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-cabb9229><!--[--><!--]--><!--[--><span tabindex="-1" data-v-95ac45a4></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-95ac45a4> Skip to content </a><!--]--><!----><header class="VPNav" data-v-cabb9229 data-v-f8f27b8c><div class="VPNavBar has-sidebar top" data-v-f8f27b8c data-v-fdffbfd0><div class="wrapper" data-v-fdffbfd0><div class="container" data-v-fdffbfd0><div class="title" data-v-fdffbfd0><div class="VPNavBarTitle has-sidebar" data-v-fdffbfd0 data-v-dc1977a1><a class="title" href="/yzp-blog/" data-v-dc1977a1><!--[--><!--]--><!----><span data-v-dc1977a1>👽袁小猴没有秘密花园</span><!--[--><!--]--></a></div></div><div class="content" data-v-fdffbfd0><div class="content-body" data-v-fdffbfd0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-fdffbfd0><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fdffbfd0 data-v-03a80003><span id="main-nav-aria-label" class="visually-hidden" data-v-03a80003> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/yzp-blog/" tabindex="0" data-v-03a80003 data-v-37125b5a><!--[--><span data-v-37125b5a>主页</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fdffbfd0 data-v-4cbfdffa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-4cbfdffa data-v-e58edb33 data-v-f56a3de7><span class="check" data-v-f56a3de7><span class="icon" data-v-f56a3de7><!--[--><span class="vpi-sun sun" data-v-e58edb33></span><span class="vpi-moon moon" data-v-e58edb33></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-fdffbfd0 data-v-e06f7b91 data-v-e0b1ae98><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e0b1ae98><span class="vpi-more-horizontal icon" data-v-e0b1ae98></span></button><div class="menu" data-v-e0b1ae98><div class="VPMenu" data-v-e0b1ae98 data-v-120b2aec><!----><!--[--><!--[--><!----><div class="group" data-v-e06f7b91><div class="item appearance" data-v-e06f7b91><p class="label" data-v-e06f7b91>Appearance</p><div class="appearance-action" data-v-e06f7b91><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e06f7b91 data-v-e58edb33 data-v-f56a3de7><span class="check" data-v-f56a3de7><span class="icon" data-v-f56a3de7><!--[--><span class="vpi-sun sun" data-v-e58edb33></span><span class="vpi-moon moon" data-v-e58edb33></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fdffbfd0 data-v-2d0f40b4><span class="container" data-v-2d0f40b4><span class="top" data-v-2d0f40b4></span><span class="middle" data-v-2d0f40b4></span><span class="bottom" data-v-2d0f40b4></span></span></button></div></div></div></div><div class="divider" data-v-fdffbfd0><div class="divider-line" data-v-fdffbfd0></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-cabb9229 data-v-638d82b8><div class="container" data-v-638d82b8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-638d82b8><span class="vpi-align-left menu-icon" data-v-638d82b8></span><span class="menu-text" data-v-638d82b8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-638d82b8 data-v-99382d3e><button data-v-99382d3e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-cabb9229 data-v-47d4d91e><div class="curtain" data-v-47d4d91e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-47d4d91e><span class="visually-hidden" id="sidebar-aria-label" data-v-47d4d91e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-1d7c7eab><section class="VPSidebarItem level-0 collapsible" data-v-1d7c7eab data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h2 class="text" data-v-668787e9>📚读书&感悟专区</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/%E5%89%8D%E8%A8%80.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>前言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/%E5%81%9A%E4%BA%8B%E7%9A%84%E4%B8%89%E4%B8%AA%E5%B1%82%E9%9D%A2.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>（摘）做事的三个层面</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/2024%E5%B9%B4%E4%B9%A6%E5%8D%95.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>2024年书单</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-668787e9 data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h3 class="text" data-v-668787e9>你好，树洞（慎入）</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/%E6%A0%91%E6%B4%9E%E5%80%BE%E8%BF%B0%E5%8C%BA/%E4%B8%80%E5%B0%81%E7%B5%AE%E7%B5%AE%E5%8F%A8%E5%8F%A8%E7%9A%84%E4%BF%A1.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>一封絮絮叨叨的信</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-1d7c7eab><section class="VPSidebarItem level-0 collapsible" data-v-1d7c7eab data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h2 class="text" data-v-668787e9>🐒技术类经验分享</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-668787e9 data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h3 class="text" data-v-668787e9>RS-232串口通信实战开发系列</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E4%B9%8B%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E7%AF%87.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>技术原理篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E4%B9%8B%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E7%AF%87.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>技术选型篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E4%B9%8B%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E7%AF%87.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>项目实战篇</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E5%A4%8D%E6%9D%82JSON%E8%A7%A3%E6%9E%90%E5%A4%84%E7%90%86%E7%9A%84%E8%8B%A5%E5%B9%B2%E7%BB%8F%E9%AA%8C%E6%B5%85%E8%B0%88.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>复杂JSON解析处理的若干经验浅谈</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%80%9A%E8%BF%87JNA%E8%B0%83%E7%94%A8C++%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%87%E7%A8%8B.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>记一次通过JNA调用C++接口的过程</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-668787e9 data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h3 class="text" data-v-668787e9>Feign实战系列</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/Feign%E5%AE%9E%E6%88%98%E7%B3%BB%E5%88%97/%E9%80%9A%E8%BF%87Feign%E5%AF%B9%E6%8E%A5ISAPI%E5%8D%8F%E8%AE%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%80%BB%E7%BB%93%E5%88%86%E4%BA%AB.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>通过Feign对接ISAPI协议接口的总结分享</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/Feign%E5%AE%9E%E6%88%98%E7%B3%BB%E5%88%97/Feign%E5%AE%9E%E6%88%98%E4%B9%8B%E5%AF%B9%E6%8E%A5%E6%99%BA%E8%BF%90%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>对接智运开放平台</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/Feign%E5%AE%9E%E6%88%98%E7%B3%BB%E5%88%97/Feign%E5%AE%9E%E6%88%98%E4%B9%8B%E5%AF%B9%E6%8E%A5%E4%BA%91%E6%9B%9C%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>对接云曜开放平台</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E5%9F%BA%E4%BA%8EMQTT%E5%AF%B9%E6%8E%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0%E7%9A%84%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>基于MQTT对接第三方平台的开发案例</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/WebSocket%E9%89%B4%E6%9D%83%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF%E5%8F%8A%E5%8E%9F%E7%90%86.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>WebSocket鉴权的实现思路及原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E4%B8%80%E7%A7%8D%E5%9F%BA%E4%BA%8ENetty-SocketIO%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8F%8C%E5%90%91%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E6%A1%88.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>一种基于Netty-SocketIO实现双向实时通信的方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/FRP%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%8A%80%E6%9C%AF%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B%E5%8F%8A%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>FRP内网穿透技术功能简介及项目实践</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-cabb9229 data-v-759f0eb2><div class="VPDoc has-sidebar has-aside" data-v-759f0eb2 data-v-50f4d550><!--[--><!--]--><div class="container" data-v-50f4d550><div class="aside" data-v-50f4d550><div class="aside-curtain" data-v-50f4d550></div><div class="aside-container" data-v-50f4d550><div class="aside-content" data-v-50f4d550><div class="VPDocAside" data-v-50f4d550 data-v-30ea6f21><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-30ea6f21 data-v-300e2242><div class="content" data-v-300e2242><div class="outline-marker" data-v-300e2242></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-300e2242>页面导航</div><ul class="VPDocOutlineItem root" data-v-300e2242 data-v-abf047df><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-30ea6f21></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-50f4d550><div class="content-container" data-v-50f4d550><!--[--><!--]--><main class="main" data-v-50f4d550><div style="position:relative;" class="vp-doc _yzp-blog_%E5%B7%A5%E4%BD%9C%E7%82%B9%E6%BB%B4%E7%A7%AF%E7%B4%AF_%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%86%E9%A2%91%E8%AE%BE%E5%A4%87%E6%A8%A1%E6%8B%9F" data-v-50f4d550><div><h1 id="自定义视频设备模拟" tabindex="-1">自定义视频设备模拟 <a class="header-anchor" href="#自定义视频设备模拟" aria-label="Permalink to &quot;自定义视频设备模拟&quot;">​</a></h1><h2 id="🍄-背景简介" tabindex="-1">🍄 背景简介 <a class="header-anchor" href="#🍄-背景简介" aria-label="Permalink to &quot;🍄 背景简介&quot;">​</a></h2><p>日常工作中，为了测试视频类功能，经常需要在平台上添加IPC视频设备进行测试。最常用的方式当然是借调一个物理测试设备，添加到平台即可打完收工。</p><p>但是在一些特定的场景中，需要模拟特定场景的视频片段，用物理设备怼着一个显示屏当然也能实现，但是多少有点繁琐，本文将介绍两种其他方式：HiCe平台模拟和HCSimulator模拟，除此以外展开介绍一个公司的共享物理设备平台申请和使用方式。</p><h2 id="🍓-基础知识点" tabindex="-1">🍓 基础知识点 <a class="header-anchor" href="#🍓-基础知识点" aria-label="Permalink to &quot;🍓 基础知识点&quot;">​</a></h2><p>我们常常认为每个视频的后缀名（扩展名）就是视频的格式，常见的视频文件后缀名有：MP4、MKV、AVI、MOV等，其实这些后缀名只是代表了视频的封装格式，视频还有编码格式。</p><p>这两者的关系好比酒与酒瓶的关系，编码格式好比酒瓶里的酒，是视频的核心内容，封装格式好比酒瓶，它只是负责把内部的视频轨、音频轨、字幕轨集成在一起。</p><h3 id="视频编码格式" tabindex="-1">视频编码格式 <a class="header-anchor" href="#视频编码格式" aria-label="Permalink to &quot;视频编码格式&quot;">​</a></h3><p>所谓视频编码方式就是指通过压缩技术，将原始视频格式的文件转换成另一种视频格式文件的方式。</p><p>视频流传输中最为重要的编解码标准有国际电联的H.261、H.263、H.264，运动静止图像专家组的M-JPEG和国际标准化组织运动图像专家组的MPEG系列标准，此外在互联网上被广泛应用的还有Real-Networks的RealVideo、微软公司的WMV以及Apple公司的QuickTime等。</p><p>在视频监控领域，我们常说的H.264和H.265，指的即是视频编码格式。</p><h3 id="视频封装格式" tabindex="-1">视频封装格式 <a class="header-anchor" href="#视频封装格式" aria-label="Permalink to &quot;视频封装格式&quot;">​</a></h3><p>视频封装是将已经编码处理的视频数据、音频数据、字幕数据等按照一定的方式放到一个文件中，这个文件的格式就是视频封装格式，如果一个视频文件是以某个格式封装起来的，那么它的文件后缀名一般会体现出来。</p><p>常见封装格式包括：<strong>MP4、AVI、WMV、FLV、MOV、TS</strong>。</p><blockquote><p><strong>📌 备注</strong></p><p>文件后缀名只能作为一个判断依据，具体视频的封装格式不能完全以后缀名来断定。</p></blockquote><p>对于离线观看的视频，格式就非常重要了，一般电脑或手机自带的视频播放器不一定能够很好地兼容这些格式，因此建议大家选择一个解码能力强大的万能视频播放器，市面上可供选择的有VLC、PotPlayer、KMPlayer、MPV、MPC-HC、MPC-BE等等。</p><h2 id="🍀-视频处理" tabindex="-1">🍀 视频处理 <a class="header-anchor" href="#🍀-视频处理" aria-label="Permalink to &quot;🍀 视频处理&quot;">​</a></h2><p>接下来介绍如何转换得到支持视频模拟的视频片段。</p><p>通过海康平台以及客户端下载的视频，一般建议通过<strong>VSPlayer海康播放器</strong>（可自行下载，或者从附件中直接获取）进行查看以及转码。</p><p>我们拿到一段视频，即可以通过该工具查看视频的编码格式和封装格式。</p><p><img src="/yzp-blog/assets/%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF1.NFxx2ghi.png" alt="视频文件信息1"></p><p><img src="/yzp-blog/assets/%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF2.BFw5IRbX.png" alt="视频文件信息2"></p><p>另外通过该工具可以进行视频转码，比如模拟视频的要求是<strong>HIK封装格式</strong>操作方式如下：</p><p><img src="/yzp-blog/assets/%E8%A7%86%E9%A2%91%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A21.BaavVBq8.png" alt="视频格式转换1"></p><p><img src="/yzp-blog/assets/%E8%A7%86%E9%A2%91%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A22.C1wptU3w.png" alt="视频格式转换2"></p><p><img src="/yzp-blog/assets/%E8%A7%86%E9%A2%91%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A23.9mnlt3mA.png" alt=""></p><h2 id="🌵-设备共享平台" tabindex="-1">🌵 设备共享平台 <a class="header-anchor" href="#🌵-设备共享平台" aria-label="Permalink to &quot;🌵 设备共享平台&quot;">​</a></h2><p>如果只是简单地测试设备预览，但是手头又没有物理设备，可以推荐一个公共设备借调的平台-----》<a href="http://king.hiktest.com/#/assetSquare" target="_blank" rel="noreferrer">设备广场</a>。</p><blockquote><p><strong>📌 备注</strong></p><p>设备广场的使用问题可咨询：程工（程念）,谢工（谢璞）。</p></blockquote><p><img src="/yzp-blog/assets/image-20240109164707257.BK_Kq3mD.png" alt="image-20240109164707257"></p><p>按照页面的提示，完成设备申请之后，就会收到如下这样一个设备连接信息的邮件，之后当做一个普通的编码设备添加到平台即可。</p><p><img src="/yzp-blog/assets/image-20240109172042378.Crckuayo.png" alt="image-20240109172042378"></p><h2 id="🌴-hiktest平台模拟" tabindex="-1">🌴 HikTest平台模拟 <a class="header-anchor" href="#🌴-hiktest平台模拟" aria-label="Permalink to &quot;🌴 HikTest平台模拟&quot;">​</a></h2><p><a href="http://hiktest.hikvision.com.cn" target="_blank" rel="noreferrer">一站式测试管理平台</a>主要辅助业务项目开展测试工作，“构建以&lt;规范&gt;为核心、以&lt;需求&gt;为牵引、以&lt;策略&gt;为中枢的项目测试标准化流程”，逐步收紧原来不标准、零散定制的功能与流程，并面向用户提供业务化、统一的一站式测试工作台，将测试活动统一到一个地方，集成了测试用例管理、测试项目执行、测试评审流程、缺陷管理、数据可视化、待办等各类应用能力。<sup>摘自“<a href="http://hiktest.hikvision.com.cn/mindoc/docs/one" target="_blank" rel="noreferrer">一站式用户手册</a>”平台介绍章节</sup></p><h3 id="上传素材视频文件" tabindex="-1">上传素材视频文件 <a class="header-anchor" href="#上传素材视频文件" aria-label="Permalink to &quot;上传素材视频文件&quot;">​</a></h3><p>模拟视频支持<strong>150M</strong>以下的短视频（超出部分会被自动截断），另外对模拟视频文件的格式也有一定的要求，需要转换成<strong>HIK封装格式</strong>的视频，视频的转换可以参考“[🍀 视频处理](#🍀 视频处理)”章节。</p><p>准备好模拟视频之后，通过“<a href="http://king.hiktest.com/#/folder?fId=-1&amp;t=1706671689864" target="_blank" rel="noreferrer">样本管理</a>”平台统一上传管理。</p><p><img src="/yzp-blog/assets/%E7%B4%A0%E6%9D%90%E8%A7%86%E9%A2%91%E4%B8%8A%E4%BC%A0.ZPaCVegv.png" alt=""></p><h3 id="配置模拟设备" tabindex="-1">配置模拟设备 <a class="header-anchor" href="#配置模拟设备" aria-label="Permalink to &quot;配置模拟设备&quot;">​</a></h3><p>上传完模拟视频文件之后，回到<a href="http://hiktest.hikvision.com.cn/#/app/mockserver/device/hik/request" target="_blank" rel="noreferrer">一站式测试管理平台-设备模拟</a>模块。</p><p><img src="/yzp-blog/assets/%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%8B%9F%E8%AE%BE%E5%A4%871.9g4kVFML.png" alt=""></p><p>按照提示填写相关的设备基础信息，并且在视频配置页面，选择添加“<a href="#准备素材视频文件">准备素材视频文件</a>”章节上传的视频素材。</p><p><img src="/yzp-blog/assets/%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%8B%9F%E8%AE%BE%E5%A4%872.CwsrGk5M.png" alt=""></p><h3 id="模拟设备验证" tabindex="-1">模拟设备验证 <a class="header-anchor" href="#模拟设备验证" aria-label="Permalink to &quot;模拟设备验证&quot;">​</a></h3><p>配置完模拟设备并且启动之后，即可以看到一个运行中的模拟设备。</p><p><img src="/yzp-blog/assets/%E6%A8%A1%E6%8B%9F%E8%AE%BE%E5%A4%87%E9%AA%8C%E8%AF%811.BAhd1lSj.png" alt=""></p><p>将模拟设备添加到平台即可验证视频是否模拟成功。</p><p><img src="/yzp-blog/assets/%E6%A8%A1%E6%8B%9F%E8%AE%BE%E5%A4%87%E9%AA%8C%E8%AF%812.CFsXJwnY.png" alt=""></p><p>能够正常预览查看视频，即表示自定义视频模拟成功。</p><p><img src="/yzp-blog/assets/%E6%A8%A1%E6%8B%9F%E8%AE%BE%E5%A4%87%E9%AA%8C%E8%AF%813.DvBaS3G2.png" alt=""></p><h2 id="🌲-hcsimulator模拟" tabindex="-1">🌲 HCSimulator模拟 <a class="header-anchor" href="#🌲-hcsimulator模拟" aria-label="Permalink to &quot;🌲 HCSimulator模拟&quot;">​</a></h2><p>有一些模拟场景，对于视频的素材大小有一定的要求，所以上文中的“测试平台”模拟方式有一定的局限性。为了实现长度不受限制视频的模拟，推荐可以使用HCSimulator客户端模拟工具。</p><p>HCSimulator是一款基于设备私有网络通信协议、ISAPI协议、ISUP协议、OTAP协议开发的模拟设备，用于模拟真实设备功能供平台测试使用，以exe程序提供，只包含win32版本，模拟设备主要功能包括参数配置，预览，对讲，回放，报警等。</p><blockquote><p><strong>📌 备注</strong></p><p>HCSimulator模拟的使用问题可咨询：陈工（陈国烨）,王工（王东亮6）。</p></blockquote><h3 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h3><blockquote><p><strong>📣 注意事项</strong></p><ul><li>支持操作系统：2003 Server 32，Win7 32位/64位，2008 Server 32，Win8 32位/64位，Win8.1 32位/64位，Win10 32位/64位；</li><li>模拟设备目录所在路径不能有中文、空格；</li><li>模拟设备配置界面的IP地址必须是本地PC的IP，端口是未被占用的任意端口。</li></ul></blockquote><p>0、首先下载模拟工具，可参考&quot;<a href="https://wiki.hikvision.com.cn/pages/viewpage.action?pageId=169485844" target="_blank" rel="noreferrer">HCSimulator模拟点位工具</a><sup>Wiki</sup>&quot;，或者直接从附件中获取；</p><p>1、参考“<strong>海康模拟设备工具_用户使用手册V2.5.0.docx</strong>”文档“<strong>2 获取使用License</strong>”章节申请授权信息；</p><p>2、参考“[🍀 视频处理](#🍀 视频处理)”章节转换<strong>PS封装格式</strong>的视频，替换<code>HCSimulatorV2.5.0.15_build20230824_WIN32_ZH\lib\StreamFiles</code>目录里面的<code>Preview.mp4</code>视频文件（可参考“<strong>替换自定义音视频文件说明.docx</strong>”）；</p><p>3、修改<code>HCSimulatorV2.5.0.15_build20230824_WIN32_ZH\lib</code>目录下<code>PrivateDevice.xml</code>文件，把设备的<code>PreviewVedioSrc</code>参数设置为1（0-读内存方式；1-读文件方式），同时注意<code>\Temp</code>文件夹下面的<code>temp_1.xml</code>也同步修改（这里列举的文件可能需要启动程序之后才会生成）。</p><h3 id="单路视频模拟" tabindex="-1">单路视频模拟 <a class="header-anchor" href="#单路视频模拟" aria-label="Permalink to &quot;单路视频模拟&quot;">​</a></h3><p>完成以上准备工作之后，即可打开<code>HCSimulateDevice.exe</code>模拟程序，配置模拟设备的IP，端口等信息；</p><p><img src="/yzp-blog/assets/HCSimulator%E6%A8%A1%E6%8B%9F1.DyfNJUOF.png" alt="HCSimulator模拟1"></p><p>除了基本信息以外，需要注意配置预览视频的发包大小以及时间间隔，这个推流速率可以根据文件时间长度和大小约莫估计算每秒需要发送多少字节，以此推算出一个相对合理的数值；</p><p><img src="/yzp-blog/assets/HCSimulator%E6%A8%A1%E6%8B%9F2.DOLX1bVk.png" alt="HCSimulator模拟2"></p><p>完成以上配置之后，检查参数无误之后，启动该模拟设备，并且配置到平台验证效果。</p><p><img src="/yzp-blog/assets/HCSimulator%E6%A8%A1%E6%8B%9F3.BlJY5PMr.png" alt="HCSimulator模拟3"></p><h3 id="多路视频模拟" tabindex="-1">多路视频模拟 <a class="header-anchor" href="#多路视频模拟" aria-label="Permalink to &quot;多路视频模拟&quot;">​</a></h3><p>模拟设备支持按通道取流，每个通道配置不同的视频文件，具体参考&quot;<strong>私有模拟设备支持按通道取流.docx</strong>&quot;文档操作吧。</p><h2 id="🌱-参考资料" tabindex="-1">🌱 参考资料 <a class="header-anchor" href="#🌱-参考资料" aria-label="Permalink to &quot;🌱 参考资料&quot;">​</a></h2><ul><li><a href="http://stt.hiktest.com/mindoc/docs/hice/hice-1cdn2dsgs7v60" target="_blank" rel="noreferrer">HiCe学堂-设备模拟</a><sup>HiCe</sup></li><li><a href="https://wiki.hikvision.com.cn/pages/viewpage.action?pageId=169485844" target="_blank" rel="noreferrer">HCSimulator模拟点位工具</a><sup>Wiki</sup></li><li>海康模拟设备工具_用户使用手册V2.5.0.docx<sup>Word</sup></li><li>替换自定义音视频文件说明.docx<sup>Word</sup></li><li>私有模拟设备支持按通道取流.docx<sup>Word</sup></li></ul><h2 id="🌼-特别感谢" tabindex="-1">🌼 特别感谢 <a class="header-anchor" href="#🌼-特别感谢" aria-label="Permalink to &quot;🌼 特别感谢&quot;">​</a></h2><ul><li>特别感谢<strong>王工（王东亮6）</strong>，解答了若干视频模拟方面的问题，并且提供给我HCSimulator模拟工具；</li><li>特别感谢<strong>陈工（陈国烨）</strong>，帮忙排查解决HCSimulator模拟工具使用过程中遇到的问题；</li><li>额外感谢<strong>张工（张倩26）</strong>，在我四处碰壁的过程中，给过我一些帮助；</li></ul><h2 id="🌙-写在最后面的话" tabindex="-1">🌙 写在最后面的话 <a class="header-anchor" href="#🌙-写在最后面的话" aria-label="Permalink to &quot;🌙 写在最后面的话&quot;">​</a></h2><p>我对以上工具的使用可以说只是九牛一毛，但是本次的目标即“自定义视频设备模拟”，所以其他的功能不过多介绍，感兴趣的请自行探索。另外可能公司还有另外更好的工具能实现以上功能，也鼓励你及时分享。</p><p>2024伊始，祝身心健康，一帆风顺，盆友~<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>“人生在世不称意，明朝散发弄扁舟。”---created by 袁志鹏 on 一月 8,2024 edited by 袁志鹏 on 二月 1,2024 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section></div></div></main><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-cabb9229 data-v-694a52f9><div class="container" data-v-694a52f9><p class="message" data-v-694a52f9>基于 MIT 许可发布</p><p class="copyright" data-v-694a52f9>版权所有 © 2024 袁小猴没有秘密花园</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"CKcwccgN\",\"工作点滴积累_h5player组件使用浅析.md\":\"lcst3b9z\",\"工作点滴积累_hik视频相关知识备忘录.md\":\"BLBcf9J0\",\"工作点滴积累_一种基于sac和存储设备实现文件（图像、录像）转存的技术方案.md\":\"Wk-AsnmX\",\"工作点滴积累_代码重构系列_代码重构之mq消息对接处理的若干经验浅谈.md\":\"iXWvzavr\",\"工作点滴积累_代码重构系列_代码重构之xfusion条件查询优化的若干经验浅谈.md\":\"DcGGaPME\",\"工作点滴积累_代码重构系列_代码重构之资源缓存设计的若干经验浅谈.md\":\"BFdUJsqh\",\"工作点滴积累_数据统计分析方法探索系列_并发数及数据存储性能评估.md\":\"Eq3lisfK\",\"工作点滴积累_数据统计分析方法探索系列_镇江港皮带机项目.md\":\"Dqe0DElC\",\"工作点滴积累_浅谈系列_浅谈一种事件聚类去重的实现思路.md\":\"BymkXmI9\",\"工作点滴积累_浅谈系列_浅谈代码复杂度的困局.md\":\"IpN4jVnM\",\"工作点滴积累_浅谈系列_浅谈项目习惯性延期的困局.md\":\"CtIOQLmw\",\"工作点滴积累_独立软件（java）设计开发的若干经验浅谈.md\":\"DXch1Vkj\",\"工作点滴积累_统一技术架构下设备及事件接入备忘录.md\":\"BdE9-Zo_\",\"工作点滴积累_自定义视频设备模拟.md\":\"Bm9hsI--\",\"工作点滴积累_软件产品国产化系列_软件产品国产化之phantomjs适配.md\":\"BiBb2V1H\",\"工作点滴积累_软件产品国产化系列_软件产品国产化之初识国产化_iot安装使用笔记.md\":\"BZYawEMC\",\"工作点滴积累_软件产品国产化系列_软件产品国产化之组件和产品适配开发的若干经验浅谈.md\":\"CzDvNf_I\",\"技术类经验分享_dbeaver从入门到牛皮哄哄.md\":\"ZxRQikAs\",\"技术类经验分享_feign实战系列_feign实战之对接云曜开放平台.md\":\"DNoElBsr\",\"技术类经验分享_feign实战系列_feign实战之对接智运开放平台.md\":\"Bn2CdoxZ\",\"技术类经验分享_feign实战系列_通过feign对接isapi协议接口的总结分享.md\":\"DtzJOJ0J\",\"技术类经验分享_frp内网穿透技术功能简介及项目实践.md\":\"DfHPUJ4h\",\"技术类经验分享_rs-232串口通信实战开发_rs-232串口通信实战开发之技术原理篇.md\":\"MplpS61U\",\"技术类经验分享_rs-232串口通信实战开发_rs-232串口通信实战开发之技术选型篇.md\":\"Ce9vEhxM\",\"技术类经验分享_rs-232串口通信实战开发_rs-232串口通信实战开发之项目实战篇.md\":\"BeYnAHMN\",\"技术类经验分享_websocket鉴权的实现思路及原理.md\":\"upUpnMh7\",\"技术类经验分享_一种基于netty-socketio实现的双向实时通信方案.md\":\"D4igoNE6\",\"技术类经验分享_基于mqtt对接第三方平台的开发案例.md\":\"Cl6d8iLK\",\"技术类经验分享_复杂json解析处理的若干经验浅谈.md\":\"Bfq8CHjH\",\"技术类经验分享_记一次通过jna调用c__接口的过程.md\":\"BJHi8voy\",\"读书分享专区_2024年书单.md\":\"DrRVBcgx\",\"读书分享专区_做事的三个层面.md\":\"Btr4qw8q\",\"读书分享专区_前言.md\":\"Cxkh5WGY\",\"读书分享专区_树洞倾述区_一封絮絮叨叨的信.md\":\"CD6GqZo1\",\"读书分享专区_树洞倾述区_体会二三.md\":\"AE8KBPT4\",\"读书分享专区_树洞倾述区_关于写代码想说的一些话.md\":\"TjoBZ3BS\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-Hans\",\"dir\":\"ltr\",\"title\":\"👽袁小猴没有秘密花园\",\"description\":\" \",\"base\":\"/yzp-blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"}],\"docFooter\":{\"prev\":false,\"next\":false},\"sidebar\":[{\"text\":\"📚读书&感悟专区\",\"collapsed\":false,\"items\":[{\"text\":\"前言\",\"link\":\"读书分享专区/前言\"},{\"text\":\"（摘）做事的三个层面\",\"link\":\"读书分享专区/做事的三个层面\"},{\"text\":\"2024年书单\",\"link\":\"读书分享专区/2024年书单\"},{\"text\":\"你好，树洞（慎入）\",\"collapsed\":true,\"items\":[{\"text\":\"一封絮絮叨叨的信\",\"link\":\"读书分享专区/树洞倾述区/一封絮絮叨叨的信\"}]}]},{\"text\":\"🐒技术类经验分享\",\"collapsed\":false,\"items\":[{\"text\":\"RS-232串口通信实战开发系列\",\"collapsed\":true,\"items\":[{\"text\":\"技术原理篇\",\"link\":\"技术类经验分享/RS-232串口通信实战开发/RS-232串口通信实战开发之技术原理篇\"},{\"text\":\"技术选型篇\",\"link\":\"技术类经验分享/RS-232串口通信实战开发/RS-232串口通信实战开发之技术选型篇\"},{\"text\":\"项目实战篇\",\"link\":\"技术类经验分享/RS-232串口通信实战开发/RS-232串口通信实战开发之项目实战篇\"}]},{\"text\":\"复杂JSON解析处理的若干经验浅谈\",\"link\":\"技术类经验分享//复杂JSON解析处理的若干经验浅谈\"},{\"text\":\"记一次通过JNA调用C++接口的过程\",\"link\":\"技术类经验分享//记一次通过JNA调用C++接口的过程\"},{\"text\":\"Feign实战系列\",\"collapsed\":true,\"items\":[{\"text\":\"通过Feign对接ISAPI协议接口的总结分享\",\"link\":\"技术类经验分享/Feign实战系列/通过Feign对接ISAPI协议接口的总结分享\"},{\"text\":\"对接智运开放平台\",\"link\":\"技术类经验分享/Feign实战系列/Feign实战之对接智运开放平台\"},{\"text\":\"对接云曜开放平台\",\"link\":\"技术类经验分享/Feign实战系列/Feign实战之对接云曜开放平台\"}]},{\"text\":\"基于MQTT对接第三方平台的开发案例\",\"link\":\"技术类经验分享/基于MQTT对接第三方平台的开发案例\"},{\"text\":\"WebSocket鉴权的实现思路及原理\",\"link\":\"技术类经验分享/WebSocket鉴权的实现思路及原理\"},{\"text\":\"一种基于Netty-SocketIO实现双向实时通信的方案\",\"link\":\"技术类经验分享/一种基于Netty-SocketIO实现的双向实时通信方案\"},{\"text\":\"FRP内网穿透技术功能简介及项目实践\",\"link\":\"技术类经验分享/FRP内网穿透技术功能简介及项目实践\"}]}],\"outline\":{\"label\":\"页面导航\"},\"footer\":{\"message\":\"基于 MIT 许可发布\",\"copyright\":\"版权所有 © 2024 袁小猴没有秘密花园\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>