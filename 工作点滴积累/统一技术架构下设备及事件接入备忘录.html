<!DOCTYPE html>
<html lang="zh-Hans" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>统一技术架构下设备及事件接入备忘录 | 👽袁小猴没有秘密花园</title>
    <meta name="description" content=" ">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/yzp-blog/assets/style.CMENvdba.css" as="style">
    
    <script type="module" src="/yzp-blog/assets/app.B2gmUbKD.js"></script>
    <link rel="preload" href="/yzp-blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/yzp-blog/assets/chunks/framework.CUMjAKNJ.js">
    <link rel="modulepreload" href="/yzp-blog/assets/chunks/theme.C6dyirnZ.js">
    <link rel="modulepreload" href="/yzp-blog/assets/工作点滴积累_统一技术架构下设备及事件接入备忘录.md.BdE9-Zo_.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-cabb9229><!--[--><!--]--><!--[--><span tabindex="-1" data-v-95ac45a4></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-95ac45a4> Skip to content </a><!--]--><!----><header class="VPNav" data-v-cabb9229 data-v-f8f27b8c><div class="VPNavBar has-sidebar top" data-v-f8f27b8c data-v-fdffbfd0><div class="wrapper" data-v-fdffbfd0><div class="container" data-v-fdffbfd0><div class="title" data-v-fdffbfd0><div class="VPNavBarTitle has-sidebar" data-v-fdffbfd0 data-v-dc1977a1><a class="title" href="/yzp-blog/" data-v-dc1977a1><!--[--><!--]--><!----><span data-v-dc1977a1>👽袁小猴没有秘密花园</span><!--[--><!--]--></a></div></div><div class="content" data-v-fdffbfd0><div class="content-body" data-v-fdffbfd0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-fdffbfd0><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fdffbfd0 data-v-03a80003><span id="main-nav-aria-label" class="visually-hidden" data-v-03a80003> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/yzp-blog/" tabindex="0" data-v-03a80003 data-v-37125b5a><!--[--><span data-v-37125b5a>主页</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fdffbfd0 data-v-4cbfdffa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-4cbfdffa data-v-e58edb33 data-v-f56a3de7><span class="check" data-v-f56a3de7><span class="icon" data-v-f56a3de7><!--[--><span class="vpi-sun sun" data-v-e58edb33></span><span class="vpi-moon moon" data-v-e58edb33></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-fdffbfd0 data-v-e06f7b91 data-v-e0b1ae98><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e0b1ae98><span class="vpi-more-horizontal icon" data-v-e0b1ae98></span></button><div class="menu" data-v-e0b1ae98><div class="VPMenu" data-v-e0b1ae98 data-v-120b2aec><!----><!--[--><!--[--><!----><div class="group" data-v-e06f7b91><div class="item appearance" data-v-e06f7b91><p class="label" data-v-e06f7b91>Appearance</p><div class="appearance-action" data-v-e06f7b91><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e06f7b91 data-v-e58edb33 data-v-f56a3de7><span class="check" data-v-f56a3de7><span class="icon" data-v-f56a3de7><!--[--><span class="vpi-sun sun" data-v-e58edb33></span><span class="vpi-moon moon" data-v-e58edb33></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fdffbfd0 data-v-2d0f40b4><span class="container" data-v-2d0f40b4><span class="top" data-v-2d0f40b4></span><span class="middle" data-v-2d0f40b4></span><span class="bottom" data-v-2d0f40b4></span></span></button></div></div></div></div><div class="divider" data-v-fdffbfd0><div class="divider-line" data-v-fdffbfd0></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-cabb9229 data-v-638d82b8><div class="container" data-v-638d82b8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-638d82b8><span class="vpi-align-left menu-icon" data-v-638d82b8></span><span class="menu-text" data-v-638d82b8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-638d82b8 data-v-99382d3e><button data-v-99382d3e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-cabb9229 data-v-47d4d91e><div class="curtain" data-v-47d4d91e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-47d4d91e><span class="visually-hidden" id="sidebar-aria-label" data-v-47d4d91e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-1d7c7eab><section class="VPSidebarItem level-0 collapsible" data-v-1d7c7eab data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h2 class="text" data-v-668787e9>📚读书&感悟专区</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/%E5%89%8D%E8%A8%80.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>前言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/%E5%81%9A%E4%BA%8B%E7%9A%84%E4%B8%89%E4%B8%AA%E5%B1%82%E9%9D%A2.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>（摘）做事的三个层面</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/2024%E5%B9%B4%E4%B9%A6%E5%8D%95.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>2024年书单</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-668787e9 data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h3 class="text" data-v-668787e9>你好，树洞（慎入）</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E8%AF%BB%E4%B9%A6%E5%88%86%E4%BA%AB%E4%B8%93%E5%8C%BA/%E6%A0%91%E6%B4%9E%E5%80%BE%E8%BF%B0%E5%8C%BA/%E4%B8%80%E5%B0%81%E7%B5%AE%E7%B5%AE%E5%8F%A8%E5%8F%A8%E7%9A%84%E4%BF%A1.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>一封絮絮叨叨的信</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-1d7c7eab><section class="VPSidebarItem level-0 collapsible" data-v-1d7c7eab data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h2 class="text" data-v-668787e9>🐒技术类经验分享</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-668787e9 data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h3 class="text" data-v-668787e9>RS-232串口通信实战开发系列</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E4%B9%8B%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E7%AF%87.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>技术原理篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E4%B9%8B%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E7%AF%87.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>技术选型篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91/RS-232%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E5%AE%9E%E6%88%98%E5%BC%80%E5%8F%91%E4%B9%8B%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E7%AF%87.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>项目实战篇</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E5%A4%8D%E6%9D%82JSON%E8%A7%A3%E6%9E%90%E5%A4%84%E7%90%86%E7%9A%84%E8%8B%A5%E5%B9%B2%E7%BB%8F%E9%AA%8C%E6%B5%85%E8%B0%88.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>复杂JSON解析处理的若干经验浅谈</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%80%9A%E8%BF%87JNA%E8%B0%83%E7%94%A8C++%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%87%E7%A8%8B.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>记一次通过JNA调用C++接口的过程</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-668787e9 data-v-668787e9><div class="item" role="button" tabindex="0" data-v-668787e9><div class="indicator" data-v-668787e9></div><h3 class="text" data-v-668787e9>Feign实战系列</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-668787e9><span class="vpi-chevron-right caret-icon" data-v-668787e9></span></div></div><div class="items" data-v-668787e9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/Feign%E5%AE%9E%E6%88%98%E7%B3%BB%E5%88%97/%E9%80%9A%E8%BF%87Feign%E5%AF%B9%E6%8E%A5ISAPI%E5%8D%8F%E8%AE%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%80%BB%E7%BB%93%E5%88%86%E4%BA%AB.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>通过Feign对接ISAPI协议接口的总结分享</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/Feign%E5%AE%9E%E6%88%98%E7%B3%BB%E5%88%97/Feign%E5%AE%9E%E6%88%98%E4%B9%8B%E5%AF%B9%E6%8E%A5%E6%99%BA%E8%BF%90%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>对接智运开放平台</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/Feign%E5%AE%9E%E6%88%98%E7%B3%BB%E5%88%97/Feign%E5%AE%9E%E6%88%98%E4%B9%8B%E5%AF%B9%E6%8E%A5%E4%BA%91%E6%9B%9C%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>对接云曜开放平台</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E5%9F%BA%E4%BA%8EMQTT%E5%AF%B9%E6%8E%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0%E7%9A%84%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>基于MQTT对接第三方平台的开发案例</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/WebSocket%E9%89%B4%E6%9D%83%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF%E5%8F%8A%E5%8E%9F%E7%90%86.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>WebSocket鉴权的实现思路及原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/%E4%B8%80%E7%A7%8D%E5%9F%BA%E4%BA%8ENetty-SocketIO%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8F%8C%E5%90%91%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E6%A1%88.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>一种基于Netty-SocketIO实现双向实时通信的方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-668787e9 data-v-668787e9><div class="item" data-v-668787e9><div class="indicator" data-v-668787e9></div><a class="VPLink link link" href="/yzp-blog/%E6%8A%80%E6%9C%AF%E7%B1%BB%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/FRP%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E6%8A%80%E6%9C%AF%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B%E5%8F%8A%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5.html" data-v-668787e9><!--[--><p class="text" data-v-668787e9>FRP内网穿透技术功能简介及项目实践</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-cabb9229 data-v-759f0eb2><div class="VPDoc has-sidebar has-aside" data-v-759f0eb2 data-v-50f4d550><!--[--><!--]--><div class="container" data-v-50f4d550><div class="aside" data-v-50f4d550><div class="aside-curtain" data-v-50f4d550></div><div class="aside-container" data-v-50f4d550><div class="aside-content" data-v-50f4d550><div class="VPDocAside" data-v-50f4d550 data-v-30ea6f21><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-30ea6f21 data-v-300e2242><div class="content" data-v-300e2242><div class="outline-marker" data-v-300e2242></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-300e2242>页面导航</div><ul class="VPDocOutlineItem root" data-v-300e2242 data-v-abf047df><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-30ea6f21></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-50f4d550><div class="content-container" data-v-50f4d550><!--[--><!--]--><main class="main" data-v-50f4d550><div style="position:relative;" class="vp-doc _yzp-blog_%E5%B7%A5%E4%BD%9C%E7%82%B9%E6%BB%B4%E7%A7%AF%E7%B4%AF_%E7%BB%9F%E4%B8%80%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E4%B8%8B%E8%AE%BE%E5%A4%87%E5%8F%8A%E4%BA%8B%E4%BB%B6%E6%8E%A5%E5%85%A5%E5%A4%87%E5%BF%98%E5%BD%95" data-v-50f4d550><div><h1 id="统一技术架构下设备及事件接入备忘录" tabindex="-1">统一技术架构下设备及事件接入备忘录 <a class="header-anchor" href="#统一技术架构下设备及事件接入备忘录" aria-label="Permalink to &quot;统一技术架构下设备及事件接入备忘录&quot;">​</a></h1><h2 id="背景简介" tabindex="-1">背景简介 <a class="header-anchor" href="#背景简介" aria-label="Permalink to &quot;背景简介&quot;">​</a></h2><p>借着参与定位应用设计开发的契机，加深了自己对于统一技术架构下设备和事件接入流程的了解。</p><p>本文主要整理记录了定位数据的接入过程，其中包括设备添加、配置和数据接入；除了实际设备接入，还会涉及模拟设备的配置使用；以及在此过程中，可能遇到问题的排查思路，相关干系人和规避手段。</p><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><h3 id="环境信息" tabindex="-1">环境信息 <a class="header-anchor" href="#环境信息" aria-label="Permalink to &quot;环境信息&quot;">​</a></h3><p>在开始分享之前，首先介绍下本次基础平台的构架版本以及涉及到数据接入的核心组件的版本等信息，基于“域见”构架（isecure），V2.2.4版本的<strong>iSecure Center-Port（港口数字化管理平台）V2.1.0 产品</strong>为基础测试平台。</p><ul><li>域见构架 <sup>isecure</sup> V2.2.4.20230630112137</li><li>物联设备管理 <sup>SDMC</sup> V2.3.3.20230621165337（@沈佳伟）</li><li>事件转发联动服务 <sup>ESC</sup> V2.6.1.20230621112358</li><li>设备接入框架 <sup>DAC</sup> V1.16.100.20230620171622（@胡星，@叶龙7）</li><li>智能接入组件 <sup>IAC</sup> V1.16.100.20230620071957（@戴嘉伦）</li></ul><h3 id="基础工具" tabindex="-1">基础工具 <a class="header-anchor" href="#基础工具" aria-label="Permalink to &quot;基础工具&quot;">​</a></h3><p>在事件接入测试模拟过程中，除了安装完平台以外，还需要用到一些数据库和MQ的连接工具以及基础的统一技术架构的解密工具，其中关于如何连接使用工具将不做赘述。</p><ul><li>DBeaver数据库连接工具</li><li>SocketTool端口测试工具（SocketTool端口测试工具.zip）</li><li>RabbitMQ连接工具（RabbitMQ连接工具(新).zip）</li><li>ActiveMQ连接工具（MQClient(JAVA).rar）</li><li>Token解密工具（Token获取工具.zip）</li></ul><h2 id="数据流程" tabindex="-1">数据流程 <a class="header-anchor" href="#数据流程" aria-label="Permalink to &quot;数据流程&quot;">​</a></h2><h3 id="设备接入流程" tabindex="-1">设备接入流程 <a class="header-anchor" href="#设备接入流程" aria-label="Permalink to &quot;设备接入流程&quot;">​</a></h3><p><img src="/yzp-blog/assets/%E8%AE%BE%E5%A4%87%E6%8E%A5%E5%85%A5%E6%B5%81%E7%A8%8B.D-AasKU8.png" alt=""></p><p>平台通过SDMC组件增删改管理设备信息，添加的设备会将对应的设备信息，事件类型，能力集，数据目标以及数据管道等信息下发给DAC设备接入框架和IAC智能接入框架（统称“接入框架”）。</p><p>接入框架根据设备的配置信息，加载对应的驱动用于连接设备以及接入事件数据，之后解析事件数据为事件报文转发给对应的数据目标。</p><h3 id="事件上报流程" tabindex="-1">事件上报流程 <a class="header-anchor" href="#事件上报流程" aria-label="Permalink to &quot;事件上报流程&quot;">​</a></h3><p><img src="/yzp-blog/assets/%E4%BA%8B%E4%BB%B6%E4%B8%8A%E6%8A%A5%E6%B5%81%E7%A8%8B.C9tQ5Qev.png" alt=""></p><p>通过设备上报的事件会统一汇聚到接入框架（默认的事件上报数据目标为RabbitMQ），其中DAC约定的交换机为：<code>dem.demqueue.queue.device_event</code>；IAC约定的交换机为：<code>dem.demqueue.queue.intelligent_event</code> 。</p><p>汇聚的事件再由ESC事件转发服务根据订阅逻辑进行消息转发，最后事件订阅者消费到相应的设备事件。</p><h2 id="接入测试" tabindex="-1">接入测试 <a class="header-anchor" href="#接入测试" aria-label="Permalink to &quot;接入测试&quot;">​</a></h2><p>从事件的角度列举几类本次定位应用中接入的测试设备以及数据，其中包括借测设备以及模拟设备。</p><p>为了方便验证设备事件数据的接入效果，可以提前通过Postman向ESC订阅对应的事件类型到指定的交换机，具体ESC事件订阅相关资料可参考下文“<a href="#ESC事件订阅">ESC事件订阅</a>”章节或者wiki<a href="https://wiki.hikvision.com.cn/pages/viewpage.action?pageId=166202374" target="_blank" rel="noreferrer">如何订阅事件</a>。</p><p><img src="/yzp-blog/assets/image-20240628150136829.DgF-dZ_j.png" alt="image-20240628150136829"></p><p>之后通过RabbitMQ工具查看数据接入情况。</p><p><img src="/yzp-blog/assets/image-20240607111730610.C56D_li1.png" alt="image-20240607111730610"></p><h3 id="gps事件-dac→esc" tabindex="-1">GPS事件（DAC→ESC） <a class="header-anchor" href="#gps事件-dac→esc" aria-label="Permalink to &quot;GPS事件（DAC→ESC）&quot;">​</a></h3><p>GPS事件的接入选择<strong>单兵</strong>作为模拟设备（其余带有GPS事件能力的设备接入方式基本雷同），首先保证单兵的网络能够连通部署的平台网络（在公司即通过内网WiFi <code>HIK-Office</code>即可连通）。</p><blockquote><p><strong>📌 备注</strong></p><p>借测设备详细信息如下：</p><p>产品型号：RT-ML0530</p><p>设备序列号：20190122CHC88769802O0001GLE</p><p>软件版本：V1.0.0 build190626</p><p>内核版本：3.18.35</p></blockquote><p>1、单兵设备端配置：</p><p>视频平台管理：选择连接协议（本次以ehome协议为例）；</p><p>视频平台参数配置：填写对应的平台地址（端口使用默认的7660即可）及设备ID；</p><p>完成配置之后，单兵上即会提示连接平台成功。</p><p><img src="/yzp-blog/assets/%E5%8D%95%E5%85%B5%E9%85%8D%E7%BD%AE.CNcs3_jR.png" alt=""></p><p>2、平台上通过编码设备添加，设备类型选择“<strong>单兵</strong>”，接入协议选择“<strong>海康EHome协议</strong>”，并且填写单兵上配置的设备编号，其余信息按要求填写即可；</p><p><img src="/yzp-blog/assets/image-20240523153641897.EXoAJkqa.png" alt="image-20240523153641897"></p><p>同时保证添加的设备添加了“<strong>GPS事件</strong>”能力集；</p><p><img src="/yzp-blog/assets/image-20240523153843538.CEWnQYC4.png" alt="image-20240523153843538"></p><p><img src="/yzp-blog/assets/image-20240529134443183.DFjUe_wr.png" alt="image-20240529134443183"></p><p>3、等待几分钟，验证数据接入情况。</p><h3 id="rfid事件-iac→esc" tabindex="-1">RFID事件（IAC→ESC） <a class="header-anchor" href="#rfid事件-iac→esc" aria-label="Permalink to &quot;RFID事件（IAC→ESC）&quot;">​</a></h3><blockquote><p><strong>📌 备注</strong></p><p>构架预置的SDMC组件未支持RFID事件，所以首先扩展SDMC资源包支持“<strong>RFID事件能力</strong>”，参考“<a href="https://wiki.hikvision.com.cn/pages/viewpage.action?pageId=206659757" target="_blank" rel="noreferrer">扩展新接入设备能力的IAC事件</a>”。能力集：<code>event_rfid</code>；数据模型：<code>rfid</code>。</p><p>借测设备详细信息如下（摘自设备“系统设置”页面）：</p><p>设备型号：DS-2CD714EDT</p><p>设备序列号：DS-2CD714EDT20230902AACHAG0502181</p><p>主控版本：V5.7.21 build 230428</p><p>编码版本：V7.3 build 210830</p></blockquote><p>1、平台上通过编码设备添加设备，设备类型选择“<strong>普通视频设备</strong>”，接入协议选择“<strong>海康设备网络SDK协议</strong>”；</p><p><img src="/yzp-blog/assets/image-20240530154656055.Cdb6fVHS.png" alt="image-20240530154656055"></p><p>同时保证添加的设备添加了“<strong>RFID事件能力</strong>”能力集；</p><p><img src="/yzp-blog/assets/image-20240530154752840.CCSLbtcJ.png" alt="image-20240530154752840"></p><p>2、在设备通道管理模块，将设备下面的监控点通道选中添加到平台；</p><p><img src="/yzp-blog/assets/image-20240529104149245.Bt37_Z8c.png" alt="image-20240529104149245"></p><p>3、等待几分钟，验证数据接入情况。</p><h3 id="雷视目标检测事件-iac→esc" tabindex="-1">雷视目标检测事件（IAC→ESC） <a class="header-anchor" href="#雷视目标检测事件-iac→esc" aria-label="Permalink to &quot;雷视目标检测事件（IAC→ESC）&quot;">​</a></h3><blockquote><p><strong>📌 备注</strong></p><p>借测设备详细信息如下（摘自设备“系统设置”页面）：</p><p>设备型号：iDS-TCS402-FS-L / 350</p><p>设备序列号：iDS-TCS402-FS-L / 350 20230106AIQ18426208</p><p>主控版本：V5.2.0 230921</p><p>编码版本：V2.1 build 230912</p><p>硬件版本：0x804c00</p><p>雷达版本：STJ77-7P 1.1.4 build 230420</p></blockquote><p>1、连接雷视设备，保证设备上已经完成标定等基础配置工作，并且存在目标检测事件；</p><p><img src="/yzp-blog/assets/image-20240529104026644.Bp2KM8q5.png" alt="image-20240529104026644"></p><p>2、平台上通过编码设备添加设备，设备类型选择“<strong>终端设备</strong>”，接入协议选择“<strong>海康设备网络SDK协议</strong>”；</p><p><img src="/yzp-blog/assets/image-20240529103554658.DW5KaNKV.png" alt="image-20240529103554658"></p><p>同时保证添加的设备添加了“<strong>雷视目标检测事件能力</strong>”能力集；</p><p><img src="/yzp-blog/assets/image-20240523153843538.CEWnQYC4.png" alt="image-20240523153843538"></p><p>3、在设备通道管理模块，将设备下面的监控点通道选中添加到平台；</p><p><img src="/yzp-blog/assets/image-20240529104149245.Bt37_Z8c.png" alt="image-20240529104149245"></p><p>4、等待几分钟，验证数据接入情况。</p><h3 id="雷达多目标检测事件-dac→esc" tabindex="-1">雷达多目标检测事件（DAC→ESC） <a class="header-anchor" href="#雷达多目标检测事件-dac→esc" aria-label="Permalink to &quot;雷达多目标检测事件（DAC→ESC）&quot;">​</a></h3><blockquote><p><strong>📌 备注</strong></p><p>借测设备详细信息如下（摘自设备“系统设置”页面）：</p><p>设备型号：DS-TDSB0G-FK</p><p>设备序列号：DS-TDSB0G-FK 20230308AIL36986254</p><p>主控版本：V5.1.4 231201</p><p>硬件版本：0xba0000T</p><p>距离分辨率(m) ：2.50</p><p>探测距离(m) ：500.00</p><p>智能分析算法库 ：V2.2.1 build 20210323</p><p>雷达模块版本信息 ：4.0.10</p></blockquote><p>1、连接雷达设备，保证设备上已经完成标定等基础配置工作，并且存在目标检测事件；</p><p><img src="/yzp-blog/assets/image-20240603103948796.BBCfIKLX.png" alt="image-20240603103948796"></p><p>2、平台上通过安防雷达添加设备，接入协议默认为“<strong>海康ISAPI协议</strong>”；</p><p><img src="/yzp-blog/assets/image-20240603103634660.ASgFgzl3.png" alt="image-20240603103634660"></p><p>3、等待几分钟，验证数据接入情况。</p><h3 id="车辆识别事件-iac→esc" tabindex="-1">车辆识别事件（IAC→ESC） <a class="header-anchor" href="#车辆识别事件-iac→esc" aria-label="Permalink to &quot;车辆识别事件（IAC→ESC）&quot;">​</a></h3><p>1、通过”一站式测试管理平台“申请模拟设备，并且在”报警配置“页面选择”<strong>交通抓拍的终端图片上传 0x3050</strong>“;</p><p><img src="/yzp-blog/assets/image-20240529105901804.C5dx5VSJ.png" alt="image-20240529105901804"></p><p>2、配置报警类型，选择”<strong>正常过车数据</strong>“，启动模拟设备以及报警数据模拟任务；</p><p><img src="/yzp-blog/assets/image-20240529110151630.dwtHKoQ3.png" alt="image-20240529110151630"></p><p><img src="/yzp-blog/assets/image-20240529110310997.VSlNl_fw.png" alt="image-20240529110310997"></p><p>3、平台上通过编码设备添加，设备类型选择“<strong>卡口设备</strong>”，接入协议选择“<strong>海康设备网络SDK协议</strong>”；</p><p><img src="/yzp-blog/assets/image-20240529110802966.NZrWwYit.png" alt="image-20240529110802966"></p><p>保证添加的设备添加了“<strong>车辆识别能力</strong>”能力集；</p><p><img src="/yzp-blog/assets/image-20240529110919262.KiTVYYOq.png" alt="image-20240529110919262"></p><p>4、在”设备通道管理“模块，将设备下面的监控点通道选中添加到平台；</p><p><img src="/yzp-blog/assets/image-20240529104149245.Bt37_Z8c.png" alt="image-20240529104149245"></p><p>5、在”卡口管理“模块，新增一个测试卡口，配置相应的前端资源和车道信息；</p><p><img src="/yzp-blog/assets/image-20240529111132517.DD0caKXP.png" alt="image-20240529111132517"></p><p><img src="/yzp-blog/assets/image-20240529111343599.DhAi7ZQG.png" alt="image-20240529111343599"></p><p>6、确认模拟任务处于”运行中“状态，等待几分钟，验证数据接入情况。</p><p><img src="/yzp-blog/assets/image-20240529111525085.BFb6ZV-g.png" alt="image-20240529111525085"></p><h2 id="知识拓展" tabindex="-1">知识拓展 <a class="header-anchor" href="#知识拓展" aria-label="Permalink to &quot;知识拓展&quot;">​</a></h2><h3 id="esc事件订阅" tabindex="-1">ESC事件订阅 <a class="header-anchor" href="#esc事件订阅" aria-label="Permalink to &quot;ESC事件订阅&quot;">​</a></h3><p><strong>接口地址：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /univice/application/event/v1/eventRouter</span></span></code></pre></div><p><strong>请求参数：</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;serviceIndex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aeas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//调用服务的编号</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;eventRouters&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;ability&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件类别</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;authType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//是否根据事件源的事件接收用户进行处理 1-根据事件接收用户附加用户ID  2-不需要根据事件接收用户附加用户，没有用户ID，一般适用后台服务  3-所有用户都可以接收，附加通配符</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;dstServiceType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//接收事件的组件或者标识，小写，订阅规则完全相同的才能合并</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;aeas&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ], </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;eventDest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rmqs://10.19.132.6:7102/fanout/yuanzp.queue.test?username=root&amp;password=l1Yg0Ob9Bn&amp;exchange=yuanzp.queue.test&amp;routerkey=yuanzp.queue.test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件发送目的URL，建议URL名称能体现事件源和目的</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;eventLvl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件等级：0-未配置， 非0-配置登记的事件，注意，此处事件等级是指在事件联动中配置的等级（注意，未配置默认是0，即订阅 的是原始事件）</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;eventStatus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件状态，0-瞬时 1-开始  2-停止  3-事件脉冲   4-事件联动结果更新</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;eventTimeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件超时时间，秒，0-不超时，接收所有符合条件的事件；如果对事件有“时效性“要求，不需要“历史“事件，可以设置超时时间；预留，暂不支持</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;eventType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件类型，通配类型 0 表示所有事件类型，如果指定具体的事件类型，ability建议填“*”通配</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;extendFilter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//按照事件报文中data的扩展字段订阅 ，不需要时为null</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;ruleTimeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//规则过期时间，秒，最大值7*24*3600秒，0-不过期</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;serviceIndex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aeas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//调用服务的编号</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;srcIndex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件源编号，通配符&quot;* 表示所有事件源</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;srcType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//事件源类型，可选，没有不填</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>返回参数：</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;msg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OK&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;suggestion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;please check your eventStatus: 0-instant, 1-event start, 2-event stop, 4-trig result(pic/record);  please check your eventLvl: 0-event direct from dac/iac/..., not 0-event rule level; &quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="dac接入排查" tabindex="-1">DAC接入排查 <a class="header-anchor" href="#dac接入排查" aria-label="Permalink to &quot;DAC接入排查&quot;">​</a></h3><p>以雷达目标检测事件为例，平台添加雷达设备之后，SDMC组件会根据设备的能力集向DAC下发事件订阅。</p><p><img src="/yzp-blog/assets/image-20240529160031780.DSYHiVcf.png" alt="image-20240529160031780"></p><p>确认添加的设备是否已经处于”已注册“状态，以及对应的驱动是否正常运行。</p><p><img src="/yzp-blog/assets/image-20240529160239807.BCMIH2us.png" alt="image-20240529160239807"></p><p><img src="/yzp-blog/assets/image-20240529160357755.BB6lnKgL.png" alt="image-20240529160357755"></p><h3 id="iac接入排查" tabindex="-1">IAC接入排查 <a class="header-anchor" href="#iac接入排查" aria-label="Permalink to &quot;IAC接入排查&quot;">​</a></h3><p>以车辆识别事件为例，流程上基本同DAC，平台上添加完设备和卡口之后，会向IAC下发数据目标和数据管道。</p><p><img src="/yzp-blog/assets/image-20240529161204563.9haKPf4e.png" alt="image-20240529161204563"></p><p>数据管道上会绑定对应的数据源（即设备和通道）。</p><p><img src="/yzp-blog/assets/image-20240529162630357.B71bQ5oM.png" alt="image-20240529162630357"></p><p>确认添加的设备是否已经处于”在线“状态，以及对应的通道是否布防成功以及关联数据管道。</p><p><img src="/yzp-blog/assets/image-20240529162827153.BStTuTJ5.png" alt="image-20240529162827153"></p><p><img src="/yzp-blog/assets/image-20240530155353926.CvMjBav4.png" alt="image-20240530155353926"></p><p>数据接入成功之后，在维护页面可以同步查看接入的数据量统计信息。</p><p><img src="/yzp-blog/assets/image-20240529163238350.FoMcjheo.png" alt="image-20240529163238350"></p><h3 id="dac驱动日志排查" tabindex="-1">DAC驱动日志排查 <a class="header-anchor" href="#dac驱动日志排查" aria-label="Permalink to &quot;DAC驱动日志排查&quot;">​</a></h3><p>以接入雷达目标检测事件为例，首先运管DAC组件日志配置页面找到相应的雷达驱动，配置下发日志打印级别为”TRACE及以上“。</p><p><img src="/yzp-blog/assets/image-20240607105541865.Ba2bsnaz.png" alt="image-20240607105541865"></p><p>进入DAC的”设备监控“页面，找到对应设备的对应驱动。</p><p><img src="/yzp-blog/assets/image-20240607110117151.gPStmnvJ.png" alt="image-20240607110117151"></p><p>进入驱动管理页面，即可查看驱动的安装路径。</p><p><img src="/yzp-blog/assets/image-20240607105942431.Bm92ODTM.png" alt="image-20240607105942431"></p><p>进入驱动安装路径下的<code>logs</code>目录，通过<code>tail</code>指令即可查看接入事件。</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@HikvisionOS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">logs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pwd ⏎</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">opsmgr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">web</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">components</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dac.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resource</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">drivers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">drv_radar_isapi_net_1.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12.100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@HikvisionOS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">logs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># tail -f drv_radar_isapi_net_1.12.100.debug.log |grep radar ⏎</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">06</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">07</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">03</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">45.788</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DEBUG DAG [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x000dd077</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetAbilityByEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">187</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">eventAbility=event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">radar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">detection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">06</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">07</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">03</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">45.788</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DEBUG DAG [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x000dd077</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DispenseDeviceAlarm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">854</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ret=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,suburl=ssl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.67</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">187.248</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7102</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/queue/dem.demqueue.queue.device</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">event,response=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OnEventNotify&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ability&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;event_radar_object_detection&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;events&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MultiRadarTargetEventList&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Coordinate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;angle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">82.280</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;distance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">122.10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GPSInfo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;latitude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30.21020090</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;longitude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">120.22427020</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TrackedInfoList&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;isTargetDisappear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:false</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;speed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-4.90</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;targetID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">55</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;targetType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;unknow&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;trackedByIPC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:false</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;zoneType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Warning&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;activePostCount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;channelID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-06-07T11:05:52&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deviceID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456780&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eventDescription&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MultiRadar Target Event&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eventState&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;active&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eventType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MultiRadarTargetEvent&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ipAddress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10.6.98.171&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;protocol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HTTP&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eventId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1E47C978-CD3C-764F-B235-7205AF361E01&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eventType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1732610</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;happenTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-06-07T11:05:52.786+08:00&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;srcIndex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;daa6b027dc53458aba5ff13d379c0ae8&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;srcName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Security Radar&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;srcParentIndex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;daa6b027dc53458aba5ff13d379c0ae8&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;srcType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;radarDevice&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;timeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sendTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-06-07T11:03:45.787+08:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}</span></span></code></pre></div><h3 id="mq消息队列排查" tabindex="-1">MQ消息队列排查 <a class="header-anchor" href="#mq消息队列排查" aria-label="Permalink to &quot;MQ消息队列排查&quot;">​</a></h3><p>以雷达目标检测事件为例，通过DAC的“事件订阅”页面，找到对应的设备以及事件码，并且可以查看对应的订阅URL，及事件上报的数据目标。</p><p>下图的订阅URL为RabbitMQ地址，Exchange为<code>dem.demqueue.queue.device_event</code>。</p><p><img src="/yzp-blog/assets/image-20240607111038541.CMVX2My2.png" alt="image-20240607111038541"></p><p>通过RabbitMQ连接工具查看数据（关于如何获取连接信息以及密码解密，此处不做赘述）。</p><p><img src="/yzp-blog/assets/image-20240607111730610.C56D_li1.png" alt="image-20240607111730610"></p><h2 id="问题记录" tabindex="-1">问题记录 <a class="header-anchor" href="#问题记录" aria-label="Permalink to &quot;问题记录&quot;">​</a></h2><h3 id="问题1-设备添加之后未显示对应事件的能力集" tabindex="-1">问题1：设备添加之后未显示对应事件的能力集 <a class="header-anchor" href="#问题1-设备添加之后未显示对应事件的能力集" aria-label="Permalink to &quot;问题1：设备添加之后未显示对应事件的能力集&quot;">​</a></h3><p>以添加单兵（型号比较老）和RFID设备为例，在平台上添加完设备之后，也进行了手动同步操作，但是未显示对应的事件能力集。</p><p><strong>错误原因</strong></p><p>单兵设备是因为型号老旧或者其他设备本身问题，导致驱动无法主动获取到设备的能力集导致；RFID设备是因为SDMC本身未支持RFID事件能力。</p><p><strong>解决办法</strong></p><p>如果是因为设备本身原因未读取到能力集，那么可以通过手动方式进行添加。</p><p><img src="/yzp-blog/assets/image-20240606141039160.DgvTB4aq.png" alt="image-20240606141039160"></p><p>如果是因为本身SDMC未支持的能力集，那么可以通过扩展资源包的方式进行拓展，资源包涉及的修改文件包括（只列举增量部分）：</p><p><strong>/dictionary/data_dicts_sdmc.xml</strong></p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 数据字典项 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataDicts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!--&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;仅作为参考，此处省略若干其余代码&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataDict</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> typeCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sdmc.encodeDevice.capability&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;event_rfid&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;event_rfid&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sdmc.encodeDevice.capability.event_rfid.displayName&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isUsed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{&quot;type&quot;:&quot;other&quot;}&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> customOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;51&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataDicts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>/language/zh_CN/data_dicts_sdmc_zh_CN.properties</strong></p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;仅作为参考，此处省略若干其余代码&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;#</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sdmc.encodeDevice.capability.event_rfid.displayName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=RFID事件能力</span></span></code></pre></div><p><strong>/dynamicExtension/vms/encodeDevice/access/access.xml</strong></p><p>在<code>&lt;accessAbilities&gt;</code>标签集合内新增<code>&lt;ability&gt;event_rfid&lt;/ability&gt;</code>，以及在<code>&lt;dataPipes&gt;</code>标签集合内新增<code>rfid</code>的数据管道，其中的<code>dataType</code>参考自事件接入标准的数据模型属性。</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">accessAbilities</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_rule&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_heat&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_gps&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!--&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;仅作为参考，此处省略若干其余代码&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_rfid&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">accessAbilities</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataPipes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataPipe</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;event_rule&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;behavioralAnalysis&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataDestination</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sdmc_vms_rabbitmq&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataPipe</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;event_rule&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;behavioralAnalysis&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataDestination</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sdmc_vms_pic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!--&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;仅作为参考，此处省略若干其余代码&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataPipe</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;event_rfid&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rfid&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataDestination</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sdmc_vms_rabbitmq&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataPipe</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;event_rfid&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rfid&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataDestination</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sdmc_vms_pic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataPipes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>/dynamicExtension/vms/cameraChannel/access/access.xml</strong></p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">accessAbilities</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_rule&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_heat&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_gps&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!--&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;仅作为参考，此处省略若干其余代码&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;event_rfid&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ability</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">accessAbilities</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="问题2-iac管道未下发导致平台未收到设备事件" tabindex="-1">问题2：IAC管道未下发导致平台未收到设备事件 <a class="header-anchor" href="#问题2-iac管道未下发导致平台未收到设备事件" aria-label="Permalink to &quot;问题2：IAC管道未下发导致平台未收到设备事件&quot;">​</a></h3><p>以添加雷视设备为例，在平台上添加完设备之后，设备管理显示有&quot;雷视目标检测事件能力&quot;事件能力集，确认设备在产生事件数据，但是平台未接收到数据。</p><p><strong>错误原因</strong></p><p>默认的SDMC资源包中未包含&quot;雷视目标检测事件&quot;的管道配置，设备添加之后，未主动向IAC下发数据管道导致（排查思路可参考”<a href="#IAC接入排查">IAC接入排查</a>“章节）。</p><p><strong>解决办法</strong></p><p>修改方式同“问题1”，雷视目标检测事件的<code>ability</code>为<code>event_radar_object_detection</code>，<code>dataType</code>为<code>radarVideoDetection</code>。</p><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><p><a href="https://wiki.hikvision.com.cn/pages/viewpage.action?pageId=206659757" target="_blank" rel="noreferrer">扩展新接入设备能力的IAC事件</a><sup>Wiki</sup></p><p>如何快速接新设备、扩协议——设备管理扩展开发_sdmc.pptx</p><p>RFID定位测试及数据模拟方案.docx</p><p>智能监控数据模拟指导.docx</p><p>【配置文档】HISV3.1.0雷视设备接入手册.docx</p><h2 id="写在最后面的话" tabindex="-1">写在最后面的话 <a class="header-anchor" href="#写在最后面的话" aria-label="Permalink to &quot;写在最后面的话&quot;">​</a></h2><p>在我看来“统一技术架构”这套体系正在走向臃肿，很多狗屁设计真的一言难尽，交织盘错的依赖关系背后机关重重，问题的答案永远模棱两可（组件维护人可能也是半路出家接的手），遇到问题后进退无门和迷茫无措。</p><p>因此，我倒是有几个不是很成熟的建议：<strong>开源设计，化繁为简，放慢脚本</strong>。<strong>开源设计</strong>即统一技术架构中通用的，共性的东西，就应该通过内部开源的方式进行维护，让有想法、有能力、有作为的人共同参与更新迭代；<strong>化繁为简</strong>即对其中的组件进行重构式迭代，剔除臃肿逻辑和复杂的依赖关系，让组件能力变得纯粹，以技术要求为考核导向，而不是业绩；<strong>放慢脚本</strong>即认真规划每一个版本，不为了发布版本而发布版本，每一个版本都是深思熟虑的产物。</p><p>当然，某种角度来说我很肯定这套体系构建的价值所在，言语间有些激动，不过是想要它变得更好罢了。</p></div></div></main><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-cabb9229 data-v-694a52f9><div class="container" data-v-694a52f9><p class="message" data-v-694a52f9>基于 MIT 许可发布</p><p class="copyright" data-v-694a52f9>版权所有 © 2024 袁小猴没有秘密花园</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"CKcwccgN\",\"工作点滴积累_h5player组件使用浅析.md\":\"lcst3b9z\",\"工作点滴积累_hik视频相关知识备忘录.md\":\"BLBcf9J0\",\"工作点滴积累_一种基于sac和存储设备实现文件（图像、录像）转存的技术方案.md\":\"Wk-AsnmX\",\"工作点滴积累_代码重构系列_代码重构之mq消息对接处理的若干经验浅谈.md\":\"iXWvzavr\",\"工作点滴积累_代码重构系列_代码重构之xfusion条件查询优化的若干经验浅谈.md\":\"DcGGaPME\",\"工作点滴积累_代码重构系列_代码重构之资源缓存设计的若干经验浅谈.md\":\"BFdUJsqh\",\"工作点滴积累_数据统计分析方法探索系列_并发数及数据存储性能评估.md\":\"Eq3lisfK\",\"工作点滴积累_数据统计分析方法探索系列_镇江港皮带机项目.md\":\"Dqe0DElC\",\"工作点滴积累_浅谈系列_浅谈一种事件聚类去重的实现思路.md\":\"BymkXmI9\",\"工作点滴积累_浅谈系列_浅谈代码复杂度的困局.md\":\"IpN4jVnM\",\"工作点滴积累_浅谈系列_浅谈项目习惯性延期的困局.md\":\"CtIOQLmw\",\"工作点滴积累_独立软件（java）设计开发的若干经验浅谈.md\":\"DXch1Vkj\",\"工作点滴积累_统一技术架构下设备及事件接入备忘录.md\":\"BdE9-Zo_\",\"工作点滴积累_自定义视频设备模拟.md\":\"Bm9hsI--\",\"工作点滴积累_软件产品国产化系列_软件产品国产化之phantomjs适配.md\":\"BiBb2V1H\",\"工作点滴积累_软件产品国产化系列_软件产品国产化之初识国产化_iot安装使用笔记.md\":\"BZYawEMC\",\"工作点滴积累_软件产品国产化系列_软件产品国产化之组件和产品适配开发的若干经验浅谈.md\":\"CzDvNf_I\",\"技术类经验分享_dbeaver从入门到牛皮哄哄.md\":\"ZxRQikAs\",\"技术类经验分享_feign实战系列_feign实战之对接云曜开放平台.md\":\"DNoElBsr\",\"技术类经验分享_feign实战系列_feign实战之对接智运开放平台.md\":\"Bn2CdoxZ\",\"技术类经验分享_feign实战系列_通过feign对接isapi协议接口的总结分享.md\":\"DtzJOJ0J\",\"技术类经验分享_frp内网穿透技术功能简介及项目实践.md\":\"DfHPUJ4h\",\"技术类经验分享_rs-232串口通信实战开发_rs-232串口通信实战开发之技术原理篇.md\":\"MplpS61U\",\"技术类经验分享_rs-232串口通信实战开发_rs-232串口通信实战开发之技术选型篇.md\":\"Ce9vEhxM\",\"技术类经验分享_rs-232串口通信实战开发_rs-232串口通信实战开发之项目实战篇.md\":\"BeYnAHMN\",\"技术类经验分享_websocket鉴权的实现思路及原理.md\":\"upUpnMh7\",\"技术类经验分享_一种基于netty-socketio实现的双向实时通信方案.md\":\"D4igoNE6\",\"技术类经验分享_基于mqtt对接第三方平台的开发案例.md\":\"Cl6d8iLK\",\"技术类经验分享_复杂json解析处理的若干经验浅谈.md\":\"Bfq8CHjH\",\"技术类经验分享_记一次通过jna调用c__接口的过程.md\":\"BJHi8voy\",\"读书分享专区_2024年书单.md\":\"DrRVBcgx\",\"读书分享专区_做事的三个层面.md\":\"Btr4qw8q\",\"读书分享专区_前言.md\":\"Cxkh5WGY\",\"读书分享专区_树洞倾述区_一封絮絮叨叨的信.md\":\"CD6GqZo1\",\"读书分享专区_树洞倾述区_体会二三.md\":\"AE8KBPT4\",\"读书分享专区_树洞倾述区_关于写代码想说的一些话.md\":\"TjoBZ3BS\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-Hans\",\"dir\":\"ltr\",\"title\":\"👽袁小猴没有秘密花园\",\"description\":\" \",\"base\":\"/yzp-blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"}],\"docFooter\":{\"prev\":false,\"next\":false},\"sidebar\":[{\"text\":\"📚读书&感悟专区\",\"collapsed\":false,\"items\":[{\"text\":\"前言\",\"link\":\"读书分享专区/前言\"},{\"text\":\"（摘）做事的三个层面\",\"link\":\"读书分享专区/做事的三个层面\"},{\"text\":\"2024年书单\",\"link\":\"读书分享专区/2024年书单\"},{\"text\":\"你好，树洞（慎入）\",\"collapsed\":true,\"items\":[{\"text\":\"一封絮絮叨叨的信\",\"link\":\"读书分享专区/树洞倾述区/一封絮絮叨叨的信\"}]}]},{\"text\":\"🐒技术类经验分享\",\"collapsed\":false,\"items\":[{\"text\":\"RS-232串口通信实战开发系列\",\"collapsed\":true,\"items\":[{\"text\":\"技术原理篇\",\"link\":\"技术类经验分享/RS-232串口通信实战开发/RS-232串口通信实战开发之技术原理篇\"},{\"text\":\"技术选型篇\",\"link\":\"技术类经验分享/RS-232串口通信实战开发/RS-232串口通信实战开发之技术选型篇\"},{\"text\":\"项目实战篇\",\"link\":\"技术类经验分享/RS-232串口通信实战开发/RS-232串口通信实战开发之项目实战篇\"}]},{\"text\":\"复杂JSON解析处理的若干经验浅谈\",\"link\":\"技术类经验分享//复杂JSON解析处理的若干经验浅谈\"},{\"text\":\"记一次通过JNA调用C++接口的过程\",\"link\":\"技术类经验分享//记一次通过JNA调用C++接口的过程\"},{\"text\":\"Feign实战系列\",\"collapsed\":true,\"items\":[{\"text\":\"通过Feign对接ISAPI协议接口的总结分享\",\"link\":\"技术类经验分享/Feign实战系列/通过Feign对接ISAPI协议接口的总结分享\"},{\"text\":\"对接智运开放平台\",\"link\":\"技术类经验分享/Feign实战系列/Feign实战之对接智运开放平台\"},{\"text\":\"对接云曜开放平台\",\"link\":\"技术类经验分享/Feign实战系列/Feign实战之对接云曜开放平台\"}]},{\"text\":\"基于MQTT对接第三方平台的开发案例\",\"link\":\"技术类经验分享/基于MQTT对接第三方平台的开发案例\"},{\"text\":\"WebSocket鉴权的实现思路及原理\",\"link\":\"技术类经验分享/WebSocket鉴权的实现思路及原理\"},{\"text\":\"一种基于Netty-SocketIO实现双向实时通信的方案\",\"link\":\"技术类经验分享/一种基于Netty-SocketIO实现的双向实时通信方案\"},{\"text\":\"FRP内网穿透技术功能简介及项目实践\",\"link\":\"技术类经验分享/FRP内网穿透技术功能简介及项目实践\"}]}],\"outline\":{\"label\":\"页面导航\"},\"footer\":{\"message\":\"基于 MIT 许可发布\",\"copyright\":\"版权所有 © 2024 袁小猴没有秘密花园\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>